<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta name="version" content="1.2.0"> <!-- Update version to force refresh -->
    <title>Cuban Social - Dance Events near San Diego</title>
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDK9Q5NK68"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDK9Q5NK68', {
            page_title: 'Cuban Social - Dance Events',
            page_location: window.location.href
        });
    </script>
    
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo"><a href="#landing" class="logo-link">Cuban Social</a></h1>
                <nav class="nav">
                    <a href="#home" class="nav-link">Events</a>
                    <a href="#congresses" class="nav-link">Congresses</a>
                    <a href="#playlists" class="nav-link">Playlists</a>
                    <a href="#submit" class="nav-link">Submit Event</a>
                </nav>
                <div class="social-links">
                    <a href="https://www.instagram.com/cubansocial.sd/" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://facebook.com/cubansocial" target="_blank"><i class="fab fa-facebook"></i></a>
                    <a href="https://tiktok.com/@cubansocial" target="_blank"><i class="fab fa-tiktok"></i></a>
                    <a href="https://www.youtube.com/@CubanSocial" target="_blank"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Landing Section -->
        <section id="landing" class="landing-section">
            <div class="container">
                <div class="landing-hero">
                    <h1 class="hero-title">Â¡Bienvenidos a Cuban Social!</h1>
                    <h2 class="hero-subtitle">Your Gateway to Latin Dance in San Diego</h2>
                    <p class="hero-description">
                        Discover the vibrant world of Cuban salsa, timba, bachata, and more! We're your one-stop destination 
                        for authentic Latin dance experiences in the San Diego area. From intimate social gatherings to 
                        electrifying concerts, workshops with world-renowned instructors to monthly socials that keep the 
                        community dancing together.
                    </p>
                    
                    <div class="hero-features">
                        <div class="feature">
                            <i class="fas fa-calendar-alt"></i>
                            <h3>Live Events</h3>
                            <p>Stay updated with the latest salsa, timba, and bachata events happening around San Diego</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-users"></i>
                            <h3>Community</h3>
                            <p>Connect with fellow dancers and discover new venues, instructors, and dance partners</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-music"></i>
                            <h3>Authentic Culture</h3>
                            <p>Experience genuine Cuban music and dance culture through carefully curated events</p>
                        </div>
                    </div>
                    
                    <div class="cta-buttons">
                        <a href="#home" class="cta-primary">
                            <i class="fas fa-calendar"></i> Explore Events
                        </a>
                        <a href="#submit" class="cta-secondary">
                            <i class="fas fa-plus"></i> Submit Your Event
                        </a>
                    </div>
                </div>
                
                <!-- Monthly Cards Carousel -->
                <div class="cards-carousel-section">
                    <h2 class="section-title">
                        <i class="fas fa-images"></i> Monthly Event Cards
                    </h2>
                    
                    <div class="carousel-container">
                        <button class="carousel-btn prev" id="carousel-prev">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        
                        <div class="carousel-wrapper">
                            <div class="carousel-track" id="carousel-track">
                                <!-- Cards will be loaded here by JavaScript -->
                            </div>
                        </div>
                        
                        <button class="carousel-btn next" id="carousel-next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="carousel-indicators" id="carousel-indicators">
                        <!-- Indicators will be populated by JavaScript -->
                    </div>
                    
                    <div class="carousel-info">
                        <p>
                            <i class="fas fa-download"></i> 
                            Click on any card to download and share on your social media!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="home" class="home-section">
            <!-- Filters Section -->
            <div class="filters-section">
                <div class="container">
                    <div class="filters-row">
                        <div class="filter-group">
                            <label for="dance-filter">Dance Type:</label>
                            <select id="dance-filter" class="filter-select">
                                <option value="">All</option>
                                <option value="salsa">Salsa</option>
                                <option value="timba">Timba</option>
                                <option value="bachata">Bachata</option>
                                <option value="merengue">Merengue</option>
                                <option value="rueda">Rueda de Casino</option>
                                <option value="cumbia">Cumbia</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="music-filter">Music:</label>
                            <select id="music-filter" class="filter-select">
                                <option value="">All</option>
                                <option value="Live">Live</option>
                                <option value="DJ">DJ</option>
                                <option value="Mixed">Mixed</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="location-filter">Location:</label>
                            <input type="text" id="location-filter" class="filter-input" placeholder="Enter city...">
                        </div>
                        <div class="filter-group">
                            <label for="featured-filter">Featured:</label>
                            <select id="featured-filter" class="filter-select">
                                <option value="">All</option>
                                <option value="true">Featured Only</option>
                            </select>
                        </div>
                        <div class="view-toggle">
                            <button id="calendar-view" class="view-btn">
                                <i class="fas fa-calendar"></i> Calendar
                            </button>
                            <button id="list-view" class="view-btn active">
                                <i class="fas fa-list"></i> List
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar Section -->
            <div id="calendar-container" class="calendar-section" style="display: none;">
                <div class="container">
                    <div class="calendar-header">
                        <button id="prev-month" class="calendar-nav"><i class="fas fa-chevron-left"></i></button>
                        <h3 id="calendar-title">February 2025</h3>
                        <button id="next-month" class="calendar-nav"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-day-header">Sun</div>
                        <div class="calendar-day-header">Mon</div>
                        <div class="calendar-day-header">Tue</div>
                        <div class="calendar-day-header">Wed</div>
                        <div class="calendar-day-header">Thu</div>
                        <div class="calendar-day-header">Fri</div>
                        <div class="calendar-day-header">Sat</div>
                        <!-- Calendar days will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Upcoming Events Section -->
            <div class="upcoming-section">
                <div class="container">
                    <h2>Upcoming Events</h2>
                    <div id="events-list" class="events-list">
                        <!-- Events will be loaded here via JavaScript -->
                    </div>
                    <button id="load-more" class="load-more-btn">Load More Events</button>
                </div>
            </div>
        </section>

        <!-- Other Sections (Congresses, Playlists) -->

        <section id="congresses" class="section" style="display: none;">
            <div class="container">
                <h2>Dance Congresses</h2>
                <div class="congress-list" id="congress-list">
                    <!-- Congress information will be loaded here -->
                </div>
            </div>
        </section>

        <section id="playlists" class="section" style="display: none;">
            <div class="container">
                <h2>Music Playlists</h2>
                <div class="playlist-grid" id="playlist-grid">
                    <!-- Playlists will be loaded here -->
                </div>
            </div>
        </section>
        <!-- Submit Event Form Section -->
        <section id="submit" class="submit-section section" style="display: none;">
            <div class="container">
                <h2><i class="fas fa-plus-circle"></i> Submit an Event</h2>
                <p class="section-description">
                    Help grow the Cuban dance community by submitting events! Your submission will create a request for admin review.
                </p>
                
                <form id="event-form" class="event-form">
                    <div class="form-group">
                        <label for="event-name">Event Name *</label>
                        <input type="text" id="event-name" name="name" required 
                               placeholder="e.g., Salsa Social at Mango's">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="event-date">Date *</label>
                            <input type="date" id="event-date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label for="event-time">Start Time *</label>
                            <input type="time" id="event-time" name="time" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="event-end-time">End Time</label>
                            <input type="time" id="event-end-time" name="end_time">
                            <small class="form-help">Optional - Leave blank if end time is not specified</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-location">Location *</label>
                        <input type="text" id="event-location" name="location" 
                               placeholder="Full address with city and state" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="maps-link">Google Maps Link *</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="url" id="maps-link" name="maps_link" 
                                   placeholder="https://maps.google.com/?q=..." required style="flex: 1;">
                            <button type="button" id="generate-maps-link" class="action-btn">
                                <i class="fas fa-map-marker-alt"></i> Generate
                            </button>
                        </div>
                        <small class="form-help">Get the link by searching the venue on <a href="https://maps.google.com/" target="_blank" class="maps-link"><i class="fas fa-map-marker-alt"></i> Google Maps</a> and copying the URL, or click Generate to create from Location</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Dance Type(s) * <small>(Select all that apply)</small></label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="salsa">
                                <span class="checkmark"></span>
                                Salsa
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="timba">
                                <span class="checkmark"></span>
                                Timba
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="bachata">
                                <span class="checkmark"></span>
                                Bachata
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="merengue">
                                <span class="checkmark"></span>
                                Merengue
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="rueda">
                                <span class="checkmark"></span>
                                Rueda de Casino
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="type" value="cumbia">
                                <span class="checkmark"></span>
                                Cumbia
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="music-type">Music Type</label>
                            <select id="music-type" name="music">
                                <option value="">Select type</option>
                                <option value="Live">Live Band</option>
                                <option value="DJ">DJ Set</option>
                                <option value="Mixed">Live + DJ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="price">Price</label>
                            <input type="text" id="price" name="price" 
                                   placeholder="e.g., Free, $15, $20-25, Potluck, Donation, Potluck + $15">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" name="description" rows="4" 
                                  placeholder="Additional details about the event, special guests, dress code, etc."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="contact">Event Contact Information</label>
                        <input type="text" id="contact" name="contact" 
                               placeholder="Phone, email, Instagram handle, or website for event attendees">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="requestor-name">Your Name *</label>
                            <input type="text" id="requestor-name" name="requestor_name" required
                                   placeholder="Your full name">
                        </div>
                        <div class="form-group">
                            <label for="requestor-contact">Your Contact Information *</label>
                            <input type="text" id="requestor-contact" name="requestor_contact" required
                                   placeholder="Email, phone, or social media handle">
                        </div>
                    </div>
                    <div style="margin-top: -16px; margin-bottom: 16px; width: 100%; text-align: left;">
                        <small class="form-help">We'll contact you when your event is approved</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="send-confirmation" name="send_confirmation" checked>
                            <span class="checkmark"></span>
                            Send me a confirmation email with submission details
                        </label>
                    </div>
                    
                    <div class="form-group recurring-group">
                        <label class="checkbox-label recurring-checkbox">
                            <input type="checkbox" id="recurring" name="recurring">
                            <span class="checkmark"></span>
                            This is a recurring event
                        </label>
                        <select id="recurring-frequency" name="recurring_frequency" class="recurring-select" style="display: none;">
                            <option value="weekly">Weekly (every week)</option>
                            <option value="monthly">Monthly (every month)</option>
                            <option value="biweekly">Bi-weekly (every 2 weeks)</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i>
                            Submit Event for Review
                        </button>
                        <p class="form-note">
                            <i class="fas fa-info-circle"></i>
                            Your submission will be reviewed by our team. You'll be notified when your event is approved and published!
                        </p>
                    </div>
                </form>
                
                <div class="submission-info">
                    <h3><i class="fas fa-question-circle"></i> How it works</h3>
                    <ol>
                        <li>Fill out the form with your event details</li>
                        <li>Click submit to create a request</li>
                        <li>Admins review and approve quality events</li>
                        <li>Your event appears on the site once approved!</li>
                    </ol>
                    <p>
                        Want to speed up the process? Tag us on Instagram 
                        <a href="https://www.instagram.com/cubansocial.sd/" target="_blank">@CubanSocial.SD</a>,
                        TikTok <a href="https://tiktok.com/@cubansocial" target="_blank">@CubanSocial</a>,
                        or email <a href="mailto:cubansocial.sd@gmail.com">cubansocial.sd@gmail.com</a>
                    </p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Cuban Social</h3>
                    <p>Connecting the Latin dance community through events, music, and culture.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="#home">Events</a></li>
                            <li><a href="#congresses">Congresses</a></li>
                            <li><a href="#playlists">Playlists</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/app.js?v=1.1.0"></script>
    <script>
        // Force reload if the page seems unresponsive after loading
        window.addEventListener('load', function() {
            setTimeout(function() {
                // Check if events have been loaded properly
                var eventsList = document.getElementById('events-list');
                if (eventsList && eventsList.children.length === 0) {
                    console.log("No events loaded after timeout - may need to refresh");
                    // If no events are displayed after 3 seconds, try reloading
                    if (confirm('No events seem to be loading. Would you like to refresh the page?')) {
                        window.location.reload(true);
                    }
                }
            }, 3000);
        });
    </script>
</body>
</html>
